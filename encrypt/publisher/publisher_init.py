# -*- coding: utf-8 -*-
# %%
"""
æ–‡ä»¶å    : publisher_init.py
åˆ›å»ºè€…    : Sycamore
åˆ›å»ºæ—¥æœŸ  : 2026-01-16
æœ€åä¿®æ”¹  : 2026-01-16
ç‰ˆæœ¬å·    : v1.0.0

â–  ç”¨é€”è¯´æ˜:
  åˆå§‹åŒ–publisher:æ£€æµ‹å½“å‰å·¥ä½œç›®å½•ä¸‹æ˜¯å¦å­˜åœ¨private_key_b64.txtå’Œapp_secret_b64.txtæ–‡ä»¶ï¼Œå¦‚æœæ²¡æœ‰å°±åˆ›å»ºã€‚

â–  ä¸»è¦å‡½æ•°åŠŸèƒ½:
  - publisher_init: æ‰§è¡Œ private_key_b64.txt / app_secret_b64.txt çš„æ£€æµ‹ä¸åˆ›å»ºæµç¨‹
â–  åŠŸèƒ½ç‰¹æ€§:
  âœ“ è‹¥æ–‡ä»¶å·²å­˜åœ¨åˆ™ä¸åšä»»ä½•ä¿®æ”¹
  âœ“ è‹¥æ–‡ä»¶ä¸å­˜åœ¨åˆ™åˆ›å»ºå¹¶å†™å…¥æŒ‡å®šå†…å®¹

â–  å¾…åŠäº‹é¡¹:

â–  æ›´æ–°æ—¥å¿—:
  v1.0.0 (2026-01-16): åˆå§‹ç‰ˆæœ¬

"å¿ƒä¹‹æ‰€å‘ï¼Œç´ å±¥ä»¥å¾€ï¼›ç”Ÿå¦‚é€†æ—…ï¼Œä¸€è‹‡ä»¥èˆªã€‚"
"""

# ==============================================================
# %%
import os
from typing import List


# =============================ğŸ‘SeperateğŸ‘=============================
# æ£€æµ‹ä¸åˆ›å»ºæ–‡ä»¶
# =============================ğŸ‘SeperateğŸ‘=============================


def ensure_file_exists(filename: str, content: str) -> None:
    # -------------- step: è®¡ç®—ç›®æ ‡æ–‡ä»¶è·¯å¾„ ---------
    file_path = os.path.join(os.getcwd(), filename)

    # -------------- step: åˆ¤æ–­æ–‡ä»¶æ˜¯å¦å­˜åœ¨ ---------
    if os.path.exists(file_path):
        return

    # -------------- step: åˆ›å»ºæ–‡ä»¶å¹¶å†™å…¥å†…å®¹ ---------
    with open(file_path, "w", encoding="utf-8") as f:
        f.write(content)


# =============================ğŸ‘SeperateğŸ‘=============================
# ä¸»æµç¨‹
# =============================ğŸ‘SeperateğŸ‘=============================


def publisher_init() -> None:
    # -------------- step: é…ç½®éœ€è¦æ£€æŸ¥çš„æ–‡ä»¶ ---------
    filenames: List[str] = ["private_key_b64.txt", "master_key_b64.txt"]

    # -------------- step: æ£€æŸ¥æ˜¯å¦å­˜åœ¨è¿™ä¸¤ä¸ªæ–‡ä»¶ ---------
    for name in filenames:
        if os.path.exists(os.path.join(os.getcwd(), name)):
            pass
        else:
            print(f"æ–‡ä»¶ '{name}' ä¸å­˜åœ¨ï¼Œæ­£åœ¨åˆ›å»º...")
            with open(name, "w", encoding="utf-8") as f:
                f.write("åœ¨æ­¤å¤„å¡«å†™ç›¸åº”çš„key")
    print("åˆå§‹åŒ–å®Œæˆã€‚")


if __name__ == "__main__":
    publisher_init()
